
:root {
  --color-background-primary: #1a1a1a;
  --color-text-primary: #e0e0e0;
  --color-accent-primary: #0b7a53;
  --color-secondary-blue: #2a2f57;
  --color-border-line: rgba(224,224,224,.15);
  --color-card-background: #282828;
  --color-input-background: #333333;
  --color-input-text: #e0e0e0;
  --color-button-text-primary: #ffffff;
  --color-button-text-secondary: #e0e0e0;
  --color-highlight-winner: #ffd700;
  --spacing-xs: 4px; --spacing-sm: 8px; --spacing-md: 16px; --spacing-lg: 24px; --spacing-xl: 32px;
  --border-radius-sm: 4px; --border-radius-md: 8px; --border-radius-lg: 12px;
  --font-size-xs: 12px; --font-size-sm: 14px; --font-size-md: 16px; --font-size-lg: 20px; --font-size-xl: 24px;
  --font-family-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  --font-weight-regular: 400; --font-weight-bold: 700;
}
body[data-theme="light"] {
  --color-background-primary: #f5f5f5;
  --color-text-primary: #1a1a1a;
  --color-card-background: #ffffff;
  --color-input-background: #eeeeee;
  --color-input-text: #1a1a1a;
  --color-border-line: rgba(0,0,0,.1);
}
body{font-family:var(--font-family-system);background:var(--color-background-primary);color:var(--color-text-primary);margin:0;line-height:1.6;-webkit-tap-highlight-color:transparent}
h1,h2,h3{font-weight:var(--font-weight-bold);margin:24px 0 12px}
button{background:var(--color-accent-primary);color:#fff;border:none;border-radius:8px;padding:10px 14px;font-size:16px;font-weight:700;cursor:pointer}
button.secondary{background:var(--color-secondary-blue)}
button.ghost{background:transparent;color:var(--color-text-primary)}
input[type="text"],input[type="number"],select{background:var(--color-input-background);color:var(--color-input-text);border:1px solid var(--color-border-line);border-radius:6px;padding:8px 12px;font-size:16px}
.container{max-width:900px;margin:0 auto;padding:16px}
.card{background:var(--color-card-background);border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,.2)}
.row{display:flex;align-items:center;gap:16px;margin-bottom:16px}
.controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:16px}
.app-header{background:var(--color-background-primary);padding:16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--color-border-line);position:sticky;top:0;z-index:100}
.app-footer{background:var(--color-background-primary);padding:16px;text-align:center;border-top:1px solid var(--color-border-line);position:sticky;bottom:0;z-index:100;font-size:14px}
.segmented{display:inline-flex;border:1px solid var(--color-border-line);border-radius:8px;overflow:hidden}
.segmented input{display:none}
.segmented label{padding:8px 12px;cursor:pointer}
.segmented input:checked+label{background:var(--color-accent-primary);color:#fff;font-weight:700}
.switch{position:relative;display:inline-block;width:44px;height:24px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;inset:0;background:var(--color-input-background);transition:.2s;border-radius:24px}
.slider:before{content:"";position:absolute;height:20px;width:20px;left:2px;bottom:2px;background:#fff;transition:.2s;border-radius:50%}
input:checked+.slider{background:var(--color-accent-primary)}
input:checked+.slider:before{transform:translateX(20px)}
.table-wrap{overflow:auto;margin-bottom:24px;border:1px solid var(--color-border-line);border-radius:12px}
table{width:100%;border-collapse:separate;border-spacing:0;min-width:760px}
thead,tbody,tfoot{white-space:nowrap}
th,td{padding:8px 12px;border-bottom:1px solid var(--color-border-line);text-align:center;position:relative}
thead th{background:var(--color-card-background);position:sticky;top:0;z-index:50;border-bottom:2px solid var(--color-border-line)}
tfoot td,tfoot th{background:var(--color-card-background);position:sticky;bottom:0;z-index:50;border-top:2px solid var(--color-border-line);font-weight:700}
th:first-child,td:first-child{position:sticky;left:0;background:var(--color-card-background);z-index:60;text-align:left;min-width:160px}
th:first-child{z-index:70;border-right:1px solid var(--color-border-line)}
td:first-child{border-right:1px solid var(--color-border-line)}
.name-input{width:100%;background:transparent;border:1px solid var(--color-border-line);border-radius:6px;padding:6px 8px;color:var(--color-text-primary)}
.score-input{width:64px;text-align:center;background:transparent;border:1px solid var(--color-border-line);border-radius:6px;padding:6px 8px;color:var(--color-text-primary)}
/* Number arrows */
input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;visibility:hidden;transition:opacity .2s,visibility .2s}
.overlay.visible{opacity:1;visibility:visible}
.modal{background:var(--color-card-background);border-radius:12px;padding:24px;max-width:90%;max-height:90%;overflow:auto;box-shadow:0 4px 15px rgba(0,0,0,.4)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.modal-actions{display:flex;gap:16px}
.close-btn{background:transparent;color:var(--color-text-primary);font-size:22px;border:none;cursor:pointer}
.screen[hidden]{display:none !important}
.controls-header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:16px}

/* Celebration */
#celebration .hero{text-align:center;margin:24px 0;font-size:28px;font-weight:800}
#celebration .sub{text-align:center;font-size:20px;margin-bottom:16px}
#celebration .note{text-align:center;font-size:14px;opacity:.8;margin-bottom:12px}
#confettiCanvas{position:fixed;inset:0;pointer-events:none;z-index:999}

/* Increment controls */
.cell-controls{display:flex;align-items:center;justify-content:center;gap:6px}
.cell-controls button{padding:4px 8px;border-radius:6px;font-size:14px}

/* Par badges and +/- coloring */
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;font-weight:700}
.badge-eagle{background:#4caf50;color:#fff}
.badge-birdie{background:#81c784;color:#000}
.badge-par{background:#9e9e9e;color:#000}
.badge-bogey{background:#ffb74d;color:#000}
.badge-double{background:#ff7043;color:#fff}
.badge-triple{background:#f44336;color:#fff}

/* Top totals panel */
.totals-panel{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}
.totals-card{background:var(--color-card-background);border:1px solid var(--color-border-line);border-radius:8px;padding:8px 10px;min-width:140px}
.totals-card h4{margin:0 0 6px 0;font-size:14px}
.totals-card .line{display:flex;justify-content:space-between;font-size:14px}

/* Par row */
.par-row th{position:sticky;left:0;background:var(--color-card-background);z-index:65}
.par-input{width:64px;text-align:center}

/* Palette variants */
body[data-palette="original"] { --color-accent-primary:#0b7a53; --color-secondary-blue:#2a2f57; }
body[data-palette="tournament"] { --color-accent-primary:#2e7d32; --color-secondary-blue:#0d47a1; }

/* Keypad overlay */
#keypadOverlay.overlay{background:rgba(0,0,0,0.8)}
.keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.keypad button{padding:14px 0;font-size:18px;border-radius:10px}
.keypad-actions{display:flex;gap:10px;margin-top:10px}
.keypad-actions button{flex:1}

/* FIR/GIR mini toggles */
.mini-toggles{display:flex;gap:6px;justify-content:center;margin-top:4px}
.mini-toggles button{padding:2px 6px;font-size:12px;border-radius:999px;background:transparent;border:1px solid var(--color-border-line);color:var(--color-text-primary)}
.mini-toggles button.active{background:var(--color-accent-primary);color:#fff;border-color:transparent}

/* History list */
.history-list{list-style:none;padding:0;margin:0}
.history-list li{border:1px solid var(--color-border-line);border-radius:8px;padding:10px;margin-bottom:10px;background:var(--color-card-background)}
.history-list .rowtop{display:flex;justify-content:space-between;font-weight:700;margin-bottom:6px}
.history-list .players{font-size:14px;opacity:.9}
.settings-row{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.settings-row label{white-space:nowrap}


/* Summary button stack (vertical) */
.share-export-actions{ display:grid; grid-template-columns: 1fr; gap: 10px; }
.share-export-actions button{ width:100%; }

/* Reusable confetti canvas */
.confetti-canvas{ width:100%; display:block; border:1px solid var(--color-border-line); border-radius:12px; margin-bottom:12px; }
